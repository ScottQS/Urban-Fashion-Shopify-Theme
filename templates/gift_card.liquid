{% layout none %}

<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    {% # Inlined CSS Variables %}
    {% render 'css-variables' %}

    {% # Load and preload the critical CSS %}
    {{ 'critical.css' | asset_url | stylesheet_tag: preload: true }}

    {% # Social, title, etc. %}
    {% render 'meta-tags' %}

    {% style %}
      body {
        background-color: var(--color-background);
      }

      .gift-card-page {
        min-height: 100svh;
        display: grid;
        place-items: center;
        padding: 1.5rem;
      }

      .gift-card {
        width: min(36rem, 100%);
        border: 1px solid var(--color-border);
        border-radius: 1rem;
        background-color: var(--color-surface);
        color: var(--color-surface-foreground);
        overflow: hidden;
      }

      .gift-card__inner {
        display: grid;
        gap: 0.9rem;
        padding: 1.2rem;
        justify-items: center;
        text-align: center;
      }

      .gift-card__logo {
        width: min(10rem, 50vw);
      }

      .gift-card__code {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--color-border);
        border-radius: 0.45rem;
        padding: 0.5rem 0.8rem;
        font-size: 1.2rem;
        letter-spacing: 0.08em;
        background-color: var(--color-background);
      }

      .gift-card__qr svg {
        width: 140px;
        height: 140px;
      }
    {% endstyle %}

    {{ content_for_header }}
  </head>

  <body>
    <main class="gift-card-page">
      <div class="gift-card">
        <div class="gift-card__inner">
          {% if settings.logo %}
            {{
              settings.logo
              | image_url: width: 320
              | image_tag: widths: '120,180,240,320', alt: shop.name, class: 'gift-card__logo'
            }}
          {% else %}
            <h1>{{ shop.name }}</h1>
          {% endif %}

          <h2>{{ gift_card.balance | money }}</h2>
          <p>Use this gift card at checkout.</p>
          <p class="gift-card__code">{{ gift_card.code | format_code }}</p>

          <div class="gift-card__qr">
            {{ gift_card.qr_identifier | qrcode_tag }}
          </div>

          {% if gift_card.enabled == false or gift_card.expired %}
            <p>This gift card has expired.</p>
          {% endif %}

          {% if gift_card.expires_on %}
            {% assign expires_on = gift_card.expires_on | date: '%B %e, %Y' %}
            <p>Expires on {{ expires_on }}</p>
          {% endif %}

          {% if gift_card.pass_url %}
            <a href="{{ gift_card.pass_url }}">
              <img
                src="{{ 'gift-card/add-to-apple-wallet.svg' | shopify_asset_url }}"
                alt="Add to Apple Wallet"
                width="200"
                height="60"
              >
            </a>
          {% endif %}
        </div>
      </div>
    </main>
  </body>
</html>
