<section class="section-shell blog-page">
  <h1>{{ blog.title }}</h1>

  {% paginate blog.articles by 8 %}
    <div class="blog-page__grid">
      {% for article in blog.articles %}
        <article class="card blog-page__article">
          {% if article.image %}
            <a href="{{ article.url }}">
              {% render
                'image',
                image: article.image,
                width: 1200,
                class: 'blog-page__image',
                sizes: '(min-width: 990px) 33vw, (min-width: 750px) 50vw, 100vw'
              %}
            </a>
          {% endif %}

          <div class="card__content">
            <h2><a href="{{ article.url }}">{{ article.title }}</a></h2>
            <p>{{ article.published_at | time_tag: format: 'date' }}</p>
            <p>{{ article.excerpt_or_content | strip_html | truncatewords: 28 }}</p>
          </div>
        </article>
      {% endfor %}
    </div>

    {% if paginate.pages > 1 %}
      <nav class="pagination" role="navigation" aria-label="Pagination">
        {{ paginate | default_pagination }}
      </nav>
    {% endif %}
  {% endpaginate %}
</section>

{% stylesheet %}
  .blog-page__grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1rem;
  }

  @media (max-width: 989px) {
    .blog-page__grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 560px) {
    .blog-page__grid {
      grid-template-columns: 1fr;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Main blog",
  "settings": []
}
{% endschema %}
